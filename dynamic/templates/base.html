{% extends "blank.html" %}
{% block styles %}
    <link href="/static/style/layout_main.css?ver=2" rel="stylesheet" />
    <style>
        {{ page.styles | safe }}
    </style>
{% endblock %}

{% block body %}
    <div class="container">
        <div id = "navigation">
            <a href = "#" onClick = "show_navigation(); return false;">
                <div id = "mobile-nav-button">
                    + {{ page.title }} +
                </div>
            </a>
            <ul id = "nav-menu">
                {% for link in navigation_links %}
                    {% if link.url == page.url %}
                        <li class = "hide-on-phone">{{ link.title }}</li>
                    {% else %}
                        <a href="/{{ link.url }}">
                            <li>{{ link.title }}</li>
                        </a>
                    {% endif %}
                {% endfor %}
                <li id = "nav-contact-icons">
                  <a href="https://www.github.com/toddsifleet">
                    <img src="/static/images/github.png">
                  </a>
                  <a href="http://www.linkedin.com/in/toddsifleet">
                    <img src="/static/images/linkedin.png">
                  </a>
                  <a href="https://twitter.com/toddsifleet">
                    <img src="/static/images/twitter.png">
                  </a>
                </li>
            </ul>
        </div>
        <div class="inner_container" >
            {% block title %}
                <div class = "title-bar hide-on-phone">
                    <h1>
                        {{ page.heading }}
                    </h1>
                </div>
            {% endblock %}
            <div class = "content">
                {% block content %}
                    {{ page.content | safe}}
                {% endblock %}
            </div>
        </div>
        <div class = "clear"></div>

    </div>
    <div class = "footer">
        &copy; 2013 <a href = "#">Todd Sifleet<a/> | generated with <a href = "//github.com/toddsifleet/staticpy">Static Py</a>
    </div>

    <script>
      function show_navigation() {
        var title = "{{ page.title }}";
        var navigation = document.getElementById("nav-menu");
        var navigation_button = document.getElementById("mobile-nav-button");
        var height = navigation.style.getPropertyValue('max-height');
        if (height == '0px' || height == null) {
          navigation.style.setProperty('max-height', {{navigation_links|length}} * 70 + 'px');
          navigation_button.innerHTML = "- " + title + " -";
        }
        else {
          navigation.style.setProperty('max-height', '0px');
          navigation_button.innerHTML = "+ " + title + " +";
        }
      }
    </script>
{% endblock %}
